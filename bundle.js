(()=>{"use strict";function t(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var e=document.querySelector("#rotate-page"),n=document.querySelectorAll(".page"),i=[{title:"My Little Airpot",content:["点我"]},{title:"广州足浴一夜",content:["人生是什么","我今晚不知道喎"]},{title:"九龙公园游泳池",content:["二百年后这里什么也不是","宇宙里有什么不是暂时"]},{title:"悲伤的采购",content:["从前话过要如何欣赏世界的美丽","现在只懂得放假去消费"]},{title:"宅女上街吧",content:["但愿你的醒觉","不会是在多年以后"]}],o=void 0,r=!0,l=[[1,0,1,2,3],[-1,1,0,3,2]];function c(t,n){e.animate([{transform:"rotateX(10deg) rotateY("+t+"deg)"},{transform:"rotateX(10deg) rotateY("+n+"deg)"}],{duration:500})}function a(t,l,a,d,u){r&&(o-2>=0&&-1===t||o+2<=i.length&&1===t)&&(r=!1,o+=2*t,n[d].style.opacity=o<3&&1===t||o>=i.length-2&&-1===t?0:1,o===i.length||0===o?n[u].style.opacity=0:1===t?y(n[u],i[o]):-1===t&&y(n[u],i[o-1]),n[l].style.opacity=0,y(n[d],n[l]),document.body.clientWidth>1024?c(0,-90*t):e.style.webkitAnimation=1===t?"l_to_r1 .5s":"r_to_l1 .5s",setTimeout((function(){n[l].style.opacity=1,n[a].style.opacity=0,1===t?y(n[l],i[o-1]):-1===t&&y(n[l],i[o]),document.body.clientWidth>1024?c(90*t,0):e.style.webkitAnimation=1===t?"l_to_r2 .5s":"r_to_l2 .5s"}),484),setTimeout((function(){n[a].style.opacity=1,o===i.length||0===o?n[a].style.opacity=0:y(n[a],n[u]),r=!0,e.style.webkitAnimation=""}),984))}function y(t,e){if(e.nodeType)t.children[0].innerText=e.children[0].innerText,t.children[1].innerHTML=e.children[1].innerHTML;else for(var n in t.children[0].innerText=e.title,t.children[1].innerHTML="",e.content){var i=document.createElement("p");i.innerText=e.content[n],t.children[1].appendChild(i)}}o=0,n[0].style.opacity=n[2].style.opacity=0,y(n[1],i[o]),y(n[3],i[o+2]),document.querySelector("#rotate-page").addEventListener("touchstart",(function(e){"page-left"===e.target.id?a.apply(void 0,t(l[1])):a.apply(void 0,t(l[0]))})),n[0].onclick=function(){return a.apply(void 0,t(l[1]))},n[1].onclick=function(){return a.apply(void 0,t(l[0]))}})();